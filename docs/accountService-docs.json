{"openapi":"3.1.0","info":{"title":"OpenAPI definition","version":"v0"},"servers":[{"url":"http://localhost:8081","description":"Generated server url"}],"paths":{"/reserve-funds":{"post":{"tags":["vault-controller"],"summary":"Reserves funds of an account, available only to services","operationId":"reserveFunds","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReserveFundsUtil"}}},"required":true},"responses":{"200":{"description":"OK"}}}},"/merchants/credit-cards/":{"post":{"tags":["account-controller"],"summary":"Creates a merchant credit card, available only to merchants","operationId":"createMerchantCreditCards","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCreditCardUtil"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CreditCardDTO"}}}}}}},"/merchants/bank-accounts/":{"post":{"tags":["account-controller"],"summary":"Create a merchant bank account, available only to merchants","operationId":"createAMerchantBankAccount","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateABankAccountUtil"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BankAccountDTO"}}}}}}},"/customers/credit-cards/":{"post":{"tags":["account-controller"],"summary":"Creates a customer credit card, available only to customers","operationId":"createCustomerCreditCards","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCreditCardUtil"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CreditCardDTO"}}}}}}},"/customers/bank-accounts/":{"post":{"tags":["account-controller"],"summary":"Creates a customer bank account, available only to customers","operationId":"createACustomerBankAccount","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateABankAccountUtil"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BankAccountDTO"}}}}}}},"/vaults/":{"get":{"tags":["vault-controller"],"summary":"Retrieves all vaulted accounts, available only to admins","operationId":"getAllVaults","parameters":[{"name":"pageNumber","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":10}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/VaultDTO"}}}}}}}},"/credit-cards/{userId}":{"get":{"tags":["account-controller"],"summary":"Retrieves all credit cards by user","operationId":"findCreditCardsByUser","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"pageNumber","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":10}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CreditCardDTO"}}}}}}}},"/bank-accounts/{userId}":{"get":{"tags":["account-controller"],"summary":"Retrieves all bank accounts by user","operationId":"findBankAccountsAByUser","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"pageNumber","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":10}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/BankAccountDTO"}}}}}}}},"/accounts/{token}/currency":{"get":{"tags":["vault-controller"],"summary":"Retrieves the currency of an account, available only to services","operationId":"findAccountCurrency","parameters":[{"name":"token","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/accounts/{token}/balance":{"get":{"tags":["vault-controller"],"summary":"Retrieves account balance, available only to services","operationId":"findAccountBalance","parameters":[{"name":"token","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"number"}}}}}}},"/accounts/{token}/account-type":{"get":{"tags":["vault-controller"],"summary":"Retrieves an accounts type, available only to services","operationId":"findAccountType","parameters":[{"name":"token","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string","enum":["CREDIT","BANK"]}}}}}}},"/accounts/merchant/token/{token}/id/{merchantId}/exists":{"get":{"tags":["vault-controller"],"summary":"Verifies if a merchant account exists, available only to services","operationId":"doesMerchantAccountExists","parameters":[{"name":"token","in":"path","required":true,"schema":{"type":"string"}},{"name":"merchantId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"boolean"}}}}}}},"/accounts/customer/{token}/exists":{"get":{"tags":["vault-controller"],"summary":"Verifies if a customer account exists, available only to services","operationId":"doesCustomerAccountExists","parameters":[{"name":"token","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"boolean"}}}}}}}},"components":{"schemas":{"ReserveFundsUtil":{"type":"object","properties":{"token":{"type":"string"},"amount":{"type":"number"}}},"CreateCreditCardUtil":{"type":"object","properties":{"accountNumber":{"type":"string","maxLength":2147483647,"minLength":6},"userId":{"type":"integer","format":"int32"},"currency":{"type":"string"},"creditLimit":{"type":"number"}},"required":["accountNumber","creditLimit","currency"]},"CreditCardDTO":{"type":"object","properties":{"accountNumber":{"type":"string"},"userId":{"type":"integer","format":"int32"},"ownerType":{"type":"string","enum":["CUSTOMER","MERCHANT"]},"currency":{"type":"string"},"creditLimit":{"type":"number"},"totalCreditRemaining":{"type":"number"},"pendingAccount":{"type":"number"}}},"CreateABankAccountUtil":{"type":"object","properties":{"accountNumber":{"type":"string","maxLength":2147483647,"minLength":6},"userId":{"type":"integer","format":"int32"},"currency":{"type":"string"},"balance":{"type":"number"}},"required":["accountNumber","balance","currency"]},"BankAccountDTO":{"type":"object","properties":{"accountNumber":{"type":"string"},"userId":{"type":"integer","format":"int32"},"ownerType":{"type":"string","enum":["CUSTOMER","MERCHANT"]},"currency":{"type":"string"},"balance":{"type":"number"},"pendingAccount":{"type":"number"}}},"VaultDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int32"},"token":{"type":"string"},"currency":{"type":"string"},"accountType":{"type":"string","enum":["CREDIT","BANK"]},"ownerType":{"type":"string","enum":["CUSTOMER","MERCHANT"]},"last4digits":{"type":"string"}}}}}}